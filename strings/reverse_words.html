<script>

function reverseWords() {
    var input = document.getElementById("reverse").value;
    if(input) {
        reverseWordsLatest(input.split(''));
    }
}

function reverseWordsLatest(message) {

// Decode the message by reversing the words
var len = message.length;
if (len < 1)
  return;
reverseUsingIndexes(message, 0, len - 1);
//console.log("*** AFTER ***", message.join(''),"***")
let start = 0;
let end;
message.forEach((char, index) => {
  //console.log(index-1);
   console.log(message[index], char)
  if (char === ' ' || (index+1) === len) {
    reverseUsingIndexes(message, start, index);
    start = index+1;
  }
});
console.log(message.join(''))
}

function reverseUsingIndexes(message, start, end ) {
// console.log('****', start, message[start], end, message[end]);
while (start < end) {
  swap(message, start, end);
  start++;
  end--;
}
}

function swap(message, start, end) {
var temp = message[start];
message[start] = message[end];
message[end] = temp;
}





function reverse(input) {
    //Create a new array with the given string.
    // and fill the char array.
    var charArray = new Array();
    var input_length = input.length;

    /*for(var i = 0; i < input_length; i++) {
        charArray.push(input[i]);
    }*/
    //Get a reverse of fullstring first:
    for(var i = input_length-1; i > -1; i--) {
        charArray.push(input[i]);
    }

    //OR For simplicity: Split using the built in method.
    //var charArray = input.split();

    var start = 0, end = 0;

    for(var j = 0; j < input_length; j++) {
        if(j+1 == input_length || charArray[j+1] == ' ') {
            end = j;
            reverseSubArray(charArray, start, end);
            j = j+1;
            start = j+1; end = j+1;
        }
    }
    console.log(charArray)    
}

function reverseSubArray(charArray, start, end) {
    while (start < end) {
        var temp = charArray[start];
        charArray[start] = charArray[end];
        charArray[end] = temp;
        start++;
        end--;
    }
}

</script>
<body>
    <br><br><br><br><br><br>
    <input type='text' id='reverse' value='Cake Pound Steal'></input>
    <button onclick="reverseWords()">Reverse Words</button>
</body>