<head>
<script src="lib/SinglyLinkedList.js"></script>
    <link rel="stylesheet" type="text/css" href="css/styles.css"></link>
</head>
<h3>Singly Linked List</h3>
<br>
<button onclick="resetList()">Reset List</button><h4>Here is your list items:</h4>
<div id='showList'></div>
<br><h4>List Actions:</h4>
Create a list of
    <select id ="listType">
        <option>Integers</option>
        <option>Strings</option>
    </select>
<button onclick="initList()">Create</button>
<br>
Add Item to your list: <input type="text" id="addItem"></input><button onclick="addItemToList()">Add</button>
<br>
Add Item to your list: At Index: <input type="number" id="addItemIndex" value=0>
Data    <input type="text" id="addItemValue">
</input><button onclick="addItemToListAtIndex()">Add</button>
<br>
Remove Item from your list (By Value): <input type="text" id="removeItem"></input><button onclick="removeItemFromList()">Remove</button>
<br>
Print Reverse of the list (Recursively #logic1):<button onclick="reverseList1()">Reverse My List</button>
<br>
Print Reverse of the list (Recursively #logic2):<button onclick="reverseList2()">Reverse My List</button>
<div class='footer' id='console'></div>



<script>
var list = null;
var logLines = 0;
var footer = document.getElementById('console');
var showList = document.getElementById('showList');
function initList() {
    var listType = document.getElementById("listType").value;
    list = new SinglyLinkedList(listType);
    log('Your List is created.')
}
printList();
function resetList() {
    list = null;
    printList();
}
function addItemToList() {
    var newListItem = document.getElementById('addItem').value;
    log("Received '" + newListItem + "' to Add to your list");
    if(!list) {
        log("It looks like your list is not defined. Create a list first.");
        return;
    }
    if (newListItem) {
        var result = list.addItem(newListItem);
        log(result.success)
    }
    else log("Please enter a value to be added.")
    printList();
}

function addItemToListAtIndex() {
    var index = Id("addItemIndex").value;
    var data = Id("addItemValue").value;
    if(index < 0) {
        log("Invalid index.")
        return;
    }
    if(!data) {
        log("Please enter a value to be added.")
        return;
    }

    var result = list.addItemToListAtIndex(data, index);
    log(result.success);
    printList()

}

function removeItemFromList() {
    var removeItem = document.getElementById('removeItem').value;
    log('Received ' + removeItem + 'will be deleted from your list');
    if(!list) {
        log("It looks like your list is empty");
        return
    }
    if(removeItem) {
        var result = list.removeItem(removeItem);
        if (result.success) log(result.success)
        if (result.failure) log(result.failure)
    } else log("Please enter a item to remove.")
    printList();
}
function reverseList1() {
    list.ReverseList_Recursion_Logic1();
    printList()
}

function reverseList2() {
    list.ReverseList_Recursion_Logic2();
    printList();
}
function printList() {
    if(!list) {
        showList.innerHTML = "Your list is EMPTY"
        return;
    }
    var result = list.printList();
    var output = '[';
    if(result.code == 0) {
        var length = result.result.length
        for (var i = 0; i < length; i++) {
            output += "'" + result.result[i]  + "'";
            if( i + 1 != length)
             output += ", "
        }
    }
    showList.innerHTML = output + ']';
}

/**
 * Utility function to getElementById.
*/
function Id(id) {
    return document.getElementById(id);
}
function log(message) {
    if(logLines > 10) {
        footer.innerHTML = '';
        logLines = 0;
    }
    footer.innerHTML += '<br>' + message;
    logLines++;
}
</script>
